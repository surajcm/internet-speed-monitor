<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/css/rickshaw.min.css" rel="stylesheet" type="text/css" />
    <style>
        #chart_container {
            position: relative;
            font-family: Arial, Helvetica, sans-serif;
        }
        #chart {
            position: relative;
            left: 40px;
        }
        #y_axis {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 40px;
        }
    </style>
    <title>Internet speed monitor</title>
</head>
<body>
<div class="px-4 py-5 my-5 text-center">
    <h1 class="display-5 fw-bold">Internet speed monitor</h1>
    <div class="col-lg-6 mx-auto">
        <p class="lead mb-4">We monitor the internet speed using the following technologies spring boot on java 16, prometheus, and plot the packets using rickshaw.js</p>
        <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
            <div id="chart_container">
                <div id="y_axis"></div>
                <div id="chart"></div>
            </div>

        </div>
    </div>
</div>

<script src="/js/bootstrap.bundle.min.js"></script>
<script src="/js/d3.min.js"></script>
<script src="/js/d3.layout.min.js"></script>
<script src="/js/rickshaw.min.js"></script>

<script>
    var graph = new Rickshaw.Graph( {
        element: document.querySelector("#chart"),
        width: 540,
        height: 240,
        series: [ {
            data: [ { x: -1893456000, y: 92228531 }, { x: -1577923200, y: 106021568 }, { x: -1262304000, y: 123202660 }, { x: -946771200, y: 132165129 }, { x: -631152000, y: 151325798 }, { x: -315619200, y: 179323175 }, { x: 0, y: 203211926 }, { x: 315532800, y: 226545805 }, { x: 631152000, y: 248709873 }, { x: 946684800, y: 281421906 }, { x: 1262304000, y: 308745538 } ],
            color: 'steelblue'
        } ]
    } );

    var x_axis = new Rickshaw.Graph.Axis.Time( { graph: graph } );

    var y_axis = new Rickshaw.Graph.Axis.Y( {
        graph: graph,
        orientation: 'left',
        tickFormat: Rickshaw.Fixtures.Number.formatKMBT,
        element: document.getElementById('y_axis'),
    } );

    graph.render();

</script>
</body>